{"map":"{\"version\":3,\"sources\":[\"C:/Users/vaibh/part1/phonefrontend/src/components/Person.js\",\"C:/Users/vaibh/part1/phonefrontend/src/components/Filter.js\",\"C:/Users/vaibh/part1/phonefrontend/src/components/PersonForm.js\",\"C:/Users/vaibh/part1/phonefrontend/src/services/persons.js\",\"C:/Users/vaibh/part1/phonefrontend/src/components/Message.js\",\"C:/Users/vaibh/part1/phonefrontend/src/App.js\",\"C:/Users/vaibh/part1/phonefrontend/src/index.js\"],\"names\":[\"Person\",\"_ref\",\"deletePerson\",\"personsToShow\",\"react_default\",\"a\",\"createElement\",\"map\",\"person\",\"key\",\"id\",\"name\",\"number\",\"onClick\",\"Filter\",\"value\",\"onChange\",\"PersonForm\",\"onSubmit\",\"newName\",\"newNumber\",\"handleAddedName\",\"handleAddedNumber\",\"type\",\"baseUrl\",\"services_persons\",\"axios\",\"get\",\"then\",\"response\",\"data\",\"nameObject\",\"post\",\"delete\",\"concat\",\"newObject\",\"put\",\"fulfilled\",\"color\",\"background\",\"fontSize\",\"borderStyle\",\"borderRadius\",\"padding\",\"marginBottom\",\"error\",\"Message\",\"message\",\"haserror\",\"style\",\"App\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"persons\",\"setPersons\",\"_useState3\",\"_useState4\",\"filteredPersons\",\"setFilteredPersons\",\"_useState5\",\"_useState6\",\"newFilter\",\"setNewFilter\",\"_useState7\",\"_useState8\",\"setNewName\",\"_useState9\",\"_useState10\",\"setNewNumber\",\"_useState11\",\"_useState12\",\"setMessage\",\"_useState13\",\"_useState14\",\"setHaserror\",\"useEffect\",\"personService\",\"initialpersons\",\"components_Message\",\"components_Filter\",\"event\",\"target\",\"nf\",\"filter\",\"match\",\"RegExp\",\"components_PersonForm\",\"length\",\"preventDefault\",\"window\",\"confirm\",\"updatedperson\",\"objectSpread\",\"returnedPerson\",\"setTimeout\",\"catch\",\"console\",\"log\",\"components_Person\",\"persontodelete\",\"ReactDOM\",\"createRoot\",\"document\",\"getElementById\",\"render\",\"src_App\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\"\\r\\nconst Person = ({deletePerson,personsToShow}) => {\\r\\n  return (\\r\\n\\r\\n    <div>\\r\\n      {personsToShow.map((person) => \\r\\n      <div key={person.id}>  {person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button></div>\\r\\n      \\r\\n)}\\r\\n    </div>\\r\\n  )\\r\\n}\\r\\n  \\r\\nexport default Person\",\"import React from \\\"react\\\"\\r\\nconst Filter = ({value,onChange}) =>{\\r\\n    return(\\r\\n    <div>\\r\\n        filter shown with <input value={value} onChange={onChange} />\\r\\n    </div>)\\r\\n}\\r\\n\\r\\nexport default Filter\",\"import React from \\\"react\\\"\\r\\nconst PersonForm =({onSubmit,newName,newNumber,handleAddedName,handleAddedNumber}) =>\\r\\n    <form onSubmit={onSubmit}>\\r\\n        <div>\\r\\n          name: <input value={newName}\\r\\n          onChange={handleAddedName}/>\\r\\n        </div>\\r\\n        <div>\\r\\n          number: <input value={newNumber}\\r\\n          onChange={handleAddedNumber}/>\\r\\n        </div>\\r\\n        <div>\\r\\n          <button type=\\\"submit\\\">add</button>\\r\\n        </div>\\r\\n      </form>\\r\\n\\r\\nexport default PersonForm\",\"import axios from 'axios'\\r\\nconst baseUrl = '/api/persons'\\r\\n//'http://localhost:3001/api/persons'\\r\\n//'https://phonebook-backend-sljo.onrender.com/api/persons'\\r\\nconst getAll = () => {\\r\\n  const request = axios.get(baseUrl)\\r\\n  return request.then(response => response.data)\\r\\n}\\r\\nconst createperson = nameObject => {\\r\\n  const request = axios.post(baseUrl, nameObject)\\r\\n  return request.then(response => response.data)\\r\\n}\\r\\n\\r\\nconst removeperson = id => {\\r\\n  const request = axios.delete(`${baseUrl}/${id}`)\\r\\n  return request.then(response => response.data)\\r\\n}\\r\\n\\r\\nconst updateperson = (id, newObject) => {\\r\\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\\r\\n  return request.then(response => response.data)\\r\\n}\\r\\nexport default {getAll,createperson,removeperson,updateperson}\",\"import React from \\\"react\\\"\\r\\n\\r\\nconst fulfilled = {\\r\\n    color: 'green',\\r\\n    background: 'lightgrey',\\r\\n    fontSize: 20,\\r\\n    borderStyle: 'solid',\\r\\n    borderRadius: 5,\\r\\n    padding: 10,\\r\\n    marginBottom: 10\\r\\n    }\\r\\n  \\r\\nconst error = {\\r\\n    color: 'red',\\r\\n    background: 'lightgrey',\\r\\n    fontSize: 20,\\r\\n    borderStyle: 'solid',\\r\\n    borderRadius: 5,\\r\\n    padding: 10,\\r\\n    marginBottom: 10\\r\\n    }\\r\\n\\r\\nconst Message = ({ message,haserror}) => {\\r\\n    if (message === null) {\\r\\n      return null\\r\\n    }\\r\\n    if (haserror === true){\\r\\n        return (\\r\\n          <div style={error}>\\r\\n            {message}\\r\\n          </div>\\r\\n        )\\r\\n      } else {\\r\\n        return (\\r\\n          <div style={fulfilled}>\\r\\n            {message}\\r\\n          </div>\\r\\n        )\\r\\n      }\\r\\n  }\\r\\n\\r\\nexport default Message\",\"import { useState,useEffect} from 'react'\\nimport React from 'react'\\nimport Person from './components/Person'\\nimport Filter from './components/Filter'\\nimport PersonForm from './components/PersonForm'\\nimport personService from './services/persons'\\nimport Message from './components/Message'\\n\\nconst App = () => {\\n  const [persons, setPersons] = useState([])\\n  const [filteredPersons,setFilteredPersons] = useState([])\\n  const [newFilter,setNewFilter] = useState('')\\n  const [newName, setNewName] = useState('')\\n  const [newNumber, setNewNumber] = useState('')\\n  const [message,setMessage] = useState(null)\\n  const [haserror,setHaserror] = useState(false)\\n  useEffect(() => {\\n    //console.log('effect')\\n    personService\\n      .getAll()\\n      .then(initialpersons => {\\n        setPersons(initialpersons)\\n      })\\n  }, [])\\n  //console.log('render', persons.length, 'notes')\\n\\n  const addName = (event) => {\\n    if((persons.filter(person => person.name === newName)).length !== 0)\\n    {\\n      event.preventDefault()\\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\\n      {\\n        const person = persons.filter(person => person.name === newName)\\n        const updatedperson = {...person[0], number: newNumber}\\n        personService\\n          .updateperson(updatedperson.id, updatedperson)\\n          .then(returnedPerson => {\\n            setPersons(persons.map(person => person.name !== newName ? person : returnedPerson))\\n            // console.log(`${newName}'s number has been successfully updated`)\\n            setNewName('')\\n            setNewNumber('')\\n            setMessage(`${newName}'s number has been successfully updated`)\\n            setTimeout(() => {\\n              setMessage(null)\\n            }, 5000)\\n          })\\n          .catch((error) => {\\n            console.log(error)\\n            setPersons(persons.filter(person => person.name === newName))\\n            setNewName('')\\n            setNewNumber('')\\n            setMessage(\\n              `Information of ${newName} has already been removed from server`\\n            )\\n            setHaserror(true)\\n            setTimeout(() => {\\n              setMessage(null)\\n            }, 5000)\\n          })\\n      }\\n    }\\n    else{\\n    event.preventDefault()\\n\\n    const nameObject = {\\n      name: newName,\\n      number: newNumber,\\n      id: persons.length+1\\n    }\\n    personService\\n      .createperson(nameObject)\\n      .then(returnedPerson => {\\n        setPersons(persons.concat(returnedPerson))\\n        setNewName('')\\n        setNewNumber('')\\n        setMessage(\\n          `Added ${nameObject.name}`\\n        )\\n        setTimeout(() => {\\n          setMessage(null)\\n        }, 5000)\\n      })\\n      .catch(error => {\\n        setMessage(\\n          `[ERROR] ${error.response.data.message}`\\n        )\\n        setTimeout(() => {\\n          setMessage(null)\\n        }, 5000)\\n        setHaserror(true)\\n        console.log(error.response.data)\\n      })\\n    \\n  }}\\n  const handleAddedName = (event) => {\\n    setNewName(event.target.value)\\n  }\\n  const handleAddedNumber = (event) => {\\n    setNewNumber(event.target.value)\\n  }\\n  const handleFilterChange = (event) => {\\n    //setCursor(event.target.selectionStart)\\n    setNewFilter(event.target.value)\\n    const nf=event.target.value\\n    if (event.target.value === '' || event.target.value === ' ') {\\n      return}\\n    setFilteredPersons(persons.filter(person => person.name.match(new RegExp(nf,'i'))))\\n    \\n  }\\n  \\n const personsToShow = (newFilter !== '') ?\\n    filteredPersons:\\n    persons \\n const deletePerson = (id) => {\\n  const persontodelete = persons.filter(person => person.id === id)\\n  if (window.confirm(`Delete ${persontodelete[0].name} ?`)) {\\n    personService\\n      .removeperson(persontodelete[0].id)\\n    console.log(`${persontodelete[0].name} successfully deleted`)\\n    setPersons(persons.filter(person => person.id !== persontodelete[0].id))\\n\\n  }\\n}\\n \\n\\n\\n  return (\\n    <div>\\n      <h2>Phonebook</h2>\\n      <Message message={message} haserror={haserror}/>\\n      <div>\\n        <Filter value={newFilter} onChange={handleFilterChange} />\\n      </div>\\n      <h2>add a new</h2>\\n      <PersonForm onSubmit={addName} newName={newName} newNumber={newNumber} handleAddedName={handleAddedName} handleAddedNumber={handleAddedNumber}/>\\n      <h2>Numbers</h2>\\n      <div>\\n        <Person deletePerson={deletePerson} personsToShow={personsToShow}/>\\n      </div>\\n    </div>\\n  )\\n}\\n\\nexport default App\",\"import ReactDOM from 'react-dom/client'\\nimport React from 'react'\\nimport App from './App'\\n\\nReactDOM.createRoot(document.getElementById('root')).render(\\n  <App  />\\n)\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(25)},25:function(e,n,t){\"use strict\";t.r(n);var a=t(8),r=t.n(a),u=t(1),o=t.n(u),c=t(11),l=t(3),i=function(e){var n=e.deletePerson,t=e.personsToShow;return o.a.createElement(\"div\",null,t.map(function(e){return o.a.createElement(\"div\",{key:e.id},\"  \",e.name,\" \",e.number,\" \",o.a.createElement(\"button\",{onClick:function(){return n(e.id)}},\"delete\"))}))},d=function(e){var n=e.value,t=e.onChange;return o.a.createElement(\"div\",null,\"filter shown with \",o.a.createElement(\"input\",{value:n,onChange:t}))},m=function(e){var n=e.onSubmit,t=e.newName,a=e.newNumber,r=e.handleAddedName,u=e.handleAddedNumber;return o.a.createElement(\"form\",{onSubmit:n},o.a.createElement(\"div\",null,\"name: \",o.a.createElement(\"input\",{value:t,onChange:r})),o.a.createElement(\"div\",null,\"number: \",o.a.createElement(\"input\",{value:a,onChange:u})),o.a.createElement(\"div\",null,o.a.createElement(\"button\",{type:\"submit\"},\"add\")))},s=t(27),f=\"/api/persons\",b=function(){return s.a.get(f).then(function(e){return e.data})},h=function(e){return s.a.post(f,e).then(function(e){return e.data})},v=function(e){return s.a.delete(\"\".concat(f,\"/\").concat(e)).then(function(e){return e.data})},g=function(e,n){return s.a.put(\"\".concat(f,\"/\").concat(e),n).then(function(e){return e.data})},E={color:\"green\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10},p={color:\"red\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10},w=function(e){var n=e.message,t=e.haserror;return null===n?null:!0===t?o.a.createElement(\"div\",{style:p},n):o.a.createElement(\"div\",{style:E},n)},O=function(){var e=Object(u.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],r=Object(u.useState)([]),s=Object(l.a)(r,2),f=s[0],E=s[1],p=Object(u.useState)(\"\"),O=Object(l.a)(p,2),j=O[0],S=O[1],y=Object(u.useState)(\"\"),N=Object(l.a)(y,2),k=N[0],R=N[1],C=Object(u.useState)(\"\"),T=Object(l.a)(C,2),A=T[0],B=T[1],D=Object(u.useState)(null),P=Object(l.a)(D,2),x=P[0],z=P[1],I=Object(u.useState)(!1),J=Object(l.a)(I,2),q=J[0],F=J[1];Object(u.useEffect)(function(){b().then(function(e){a(e)})},[]);var G=\"\"!==j?f:t;return o.a.createElement(\"div\",null,o.a.createElement(\"h2\",null,\"Phonebook\"),o.a.createElement(w,{message:x,haserror:q}),o.a.createElement(\"div\",null,o.a.createElement(d,{value:j,onChange:function(e){S(e.target.value);var n=e.target.value;\"\"!==e.target.value&&\" \"!==e.target.value&&E(t.filter(function(e){return e.name.match(new RegExp(n,\"i\"))}))}})),o.a.createElement(\"h2\",null,\"add a new\"),o.a.createElement(m,{onSubmit:function(e){if(0!==t.filter(function(e){return e.name===k}).length){if(e.preventDefault(),window.confirm(\"\".concat(k,\" is already added to phonebook, replace the old number with a new one?\"))){var n=t.filter(function(e){return e.name===k}),r=Object(c.a)({},n[0],{number:A});g(r.id,r).then(function(e){a(t.map(function(n){return n.name!==k?n:e})),R(\"\"),B(\"\"),z(\"\".concat(k,\"'s number has been successfully updated\")),setTimeout(function(){z(null)},5e3)}).catch(function(e){console.log(e),a(t.filter(function(e){return e.name===k})),R(\"\"),B(\"\"),z(\"Information of \".concat(k,\" has already been removed from server\")),F(!0),setTimeout(function(){z(null)},5e3)})}}else{e.preventDefault();var u={name:k,number:A,id:t.length+1};h(u).then(function(e){a(t.concat(e)),R(\"\"),B(\"\"),z(\"Added \".concat(u.name)),setTimeout(function(){z(null)},5e3)}).catch(function(e){z(\"[ERROR] \".concat(e.response.data.message)),setTimeout(function(){z(null)},5e3),F(!0),console.log(e.response.data)})}},newName:k,newNumber:A,handleAddedName:function(e){R(e.target.value)},handleAddedNumber:function(e){B(e.target.value)}}),o.a.createElement(\"h2\",null,\"Numbers\"),o.a.createElement(\"div\",null,o.a.createElement(i,{deletePerson:function(e){var n=t.filter(function(n){return n.id===e});window.confirm(\"Delete \".concat(n[0].name,\" ?\"))&&(v(n[0].id),console.log(\"\".concat(n[0].name,\" successfully deleted\")),a(t.filter(function(e){return e.id!==n[0].id})))},personsToShow:G})))};r.a.createRoot(document.getElementById(\"root\")).render(o.a.createElement(O,null))}},[[12,1,2]]]);","extractedComments":[]}